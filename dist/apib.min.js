!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("axios")):"function"==typeof define&&define.amd?define(["axios"],t):(e=e||self).apib=t(e.axios)}(this,function(r){"use strict";function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}r=r&&r.hasOwnProperty("default")?r.default:r;return function(){function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.axios=r,this.version="0.0.2",this.options=e}var t=e.prototype;return t.log=function(){var e;this.options.debug&&(e=console).log.apply(e,arguments)},t._param=function(t){var r=[];return Object.keys(t).forEach(function(e){r.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e])))}),r.join("&")},t._type=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","").toLowerCase()},t._args=function(e,t){var n=1<arguments.length&&void 0!==t?t:[],i={};n.forEach(function(e,t){if(-1<e.indexOf("=")){var r=e.split("="),o=r[0];n[t]=o;try{i[o]=JSON.parse(r.slice(1).join("="))}catch(e){}}});for(var r=0;r<e.length;r++){if("object"===this._type(e[r])){Object.assign(i,e[r]);break}"undefined"!==this._type(e[r])&&"undefined"!==this._type(n[r])&&(i[n[r]]=e[r])}return i},t._join=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var o=t[0]||"",n=1;n<t.length;n++)t[n]&&(o=o.replace(/\/+$/,"")+"/"+t[n].replace(/^\/+/,""));return o},t.request=function(){for(var n=this,e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var s=this._args(i,["url"]);if(!s.url)throw new Error("url is required");!s.method&&this.options.method&&(s.method=this.options.method);var a="number"==typeof this.options.code?this.options.code:1;return new Promise(function(r,o){n.axios.create({withCredentials:!0,headers:{"Content-Type":"application/json"},baseURL:n.options.baseUrl,timeout:n.options.timeout})(s).then(function(e){var t=function(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){var t,r,o;t=n,o=i[r=e],r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}({},e.data);+t.code===a?r(t):o(t),n.log("then",{response:e,args:i,options:s,res:t,raw:JSON.stringify(t)})}).catch(function(e){o(e),n.log("catch",{error:e,args:i,options:s,response:e.response})})})},e}()});
//# sourceMappingURL=apib.min.js.map
